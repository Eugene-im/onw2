var timeOut,header=document.getElementById("headerSticky"),sticky=header.offsetTop,count=0,collapse=["q0","q1","q2","q3","q4","q5","q6","q7","q8","q9","q10"],downloadLink={mac:"https://onwallet-desktop-ui.s3.eu-central-1.amazonaws.com/mac.zip",windows:"https://onwallet-desktop-ui.s3.eu-central-1.amazonaws.com/win-unpacked.zip",linux:"https://onwallet-desktop-ui.s3.eu-central-1.amazonaws.com/linux-unpacked.zip",ios:"iOS",android:"Android"},ww=window.innerWidth,x=document.querySelectorAll(".link + .drop__list_wrap")[0],y=document.querySelectorAll(".drop__button + .drop__list_wrap")[0],elXscrol1=document.querySelectorAll(".action__item_description__list.mob")[0],elXscrol2=document.querySelectorAll(".action__item_description__list.mob")[1];window.onscroll=function(){stickyHeader(),x.classList.contains("open")&&(x.classList.remove("open"),document.querySelectorAll(".drop__list_wrap_open")[0].classList.remove("open")),screen.width<=1023&&560<=screen.width&&(stickyPhone(actionItem1,1),stickyPhone(actionItem2,2)),void 0!==y&&y.classList.contains("visible")&&(y.classList.toggle("visible"),document.querySelectorAll(".drop__button")[0].classList.toggle("visible"))},document.addEventListener("DOMContentLoaded",ready),document.onclick=clickState,void 0!==elXscrol1&&void 0!==elXscrol1&&(elXscrol1.onscroll=function(e){changeBackOnscroll(e,1)},elXscrol2.onscroll=function(e){changeBackOnscroll(e,2)});try{playvid.onclick=function(){overflow.classList.toggle("visible")}}catch(e){console.log(e)}function clickState(e){var t=e.target.id;void 0!==y&&e.target.classList.contains("drop__button")||void 0!==y&&y.classList.contains("visible")?(y.classList.toggle("visible"),document.querySelectorAll(".drop__button")[0].classList.toggle("visible")):e.target.classList.contains("question__item")?e.target.getElementsByTagName("input")[0].getAttribute("checked")&&this.classList.toggle("background"):e.target.classList.contains("drop__list_wrap_open")&&void 0!==x&&!x.classList.contains("open")?(e.preventDefault(),x.classList.add("open"),document.querySelectorAll(".drop__list_wrap_open")[0].classList.add("open")):void 0!==x&&(x.classList.remove("open"),document.querySelectorAll(".drop__list_wrap_open")[0].classList.remove("open")),t&&[].forEach.call(collapse,function(e){e!==t&&(document.getElementById(e).checked=!1)})}function changeBackOnscroll(e,t){var o=e.target.firstElementChild.offsetWidth,n=Math.floor((e.target.scrollLeft+(ww-o))/o),i=document.querySelectorAll("#fixedPhone"+t+" .item__h1");[].forEach.call(i,function(e,t){t!=n?e.classList.remove("visible"):e.classList.add("visible")})}function ready(){var e=document.getElementsByClassName("dwn"),t="Unknown OS",o="";-1!=navigator.userAgent.indexOf("Win")?(o="Windows",t=downloadLink.windows):-1!=navigator.userAgent.indexOf("Android")?(o="Android",t=downloadLink.android):-1!=navigator.userAgent.indexOf("like Mac")?(o="iOS",t=downloadLink.ios):-1!=navigator.userAgent.indexOf("Mac")?(o="MacOS",t=downloadLink.mac):-1!=navigator.userAgent.indexOf("Linux")&&(o="Linux",t=downloadLink.linux),[].forEach.call(e,function(e){e.href=t}),dwnlink.href=t,""!=o&&(clientOs.innerHTML=o)}function stickyPhone(e,t){var o=e.getBoundingClientRect(),n=document.getElementById("fixedPhone"+t),i=e.offsetHeight-n.offsetHeight-100;o.top<=96&&o.top>=-i?(n.classList.remove("downPhone"),n.classList.add("fixedPhone")):o.top<=-i?(n.classList.add("downPhone"),n.classList.remove("fixedPhone")):(n.classList.remove("fixedPhone"),n.classList.remove("downPhone"))}function stickyHeader(){window.pageYOffset>sticky?header.classList.add("sticky"):header.classList.remove("sticky")}function hoverItem(t){if(t.target.classList.contains("item__hover")){[].forEach.call([1,2,3,4,5,6,7],function(e){e==t.target.getAttribute("hattr")?document.getElementsByClassName("item__"+t.target.getAttribute("hattr"))[0].classList.add("visible"):document.getElementsByClassName("item__"+e)[0].classList.remove("visible")})}}void 0!==overflow&&(overflow.onclick=function(e){e.stopPropagation(),this.classList.toggle("visible")}),void 0!==actionItem1&&void 0!==actionItem2&&(actionItem1.onmouseover=hoverItem,actionItem1.onmouseout=hoverItem,actionItem2.onmouseover=hoverItem,actionItem2.onmouseout=hoverItem);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsidGltZU91dCIsImhlYWRlciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzdGlja3kiLCJvZmZzZXRUb3AiLCJjb3VudCIsImNvbGxhcHNlIiwiZG93bmxvYWRMaW5rIiwibWFjIiwid2luZG93cyIsImxpbnV4IiwiaW9zIiwiYW5kcm9pZCIsInd3Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsIngiLCJxdWVyeVNlbGVjdG9yQWxsIiwieSIsImVsWHNjcm9sMSIsImVsWHNjcm9sMiIsIm9uc2Nyb2xsIiwic3RpY2t5SGVhZGVyIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJyZW1vdmUiLCJzY3JlZW4iLCJ3aWR0aCIsInN0aWNreVBob25lIiwiYWN0aW9uSXRlbTEiLCJhY3Rpb25JdGVtMiIsInVuZGVmaW5lZCIsInRvZ2dsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZWFkeSIsIm9uY2xpY2siLCJjbGlja1N0YXRlIiwiZSIsImNoYW5nZUJhY2tPbnNjcm9sbCIsInBsYXl2aWQiLCJvdmVyZmxvdyIsImNvbnNvbGUiLCJsb2ciLCJpZCIsInRhcmdldCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0QXR0cmlidXRlIiwidGhpcyIsInByZXZlbnREZWZhdWx0IiwiYWRkIiwiZm9yRWFjaCIsImNhbGwiLCJpdGVtIiwiY2hlY2tlZCIsImkiLCJlbHdpZHRoIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJvZmZzZXRXaWR0aCIsImNvdW50ZXIiLCJNYXRoIiwiZmxvb3IiLCJzY3JvbGxMZWZ0IiwiZWxlbWVudHNTY3JvbGxlZCIsImluZGV4IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIk5hbWUiLCJPU05hbWUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpbmRleE9mIiwiZWwiLCJocmVmIiwiZHdubGluayIsImNsaWVudE9zIiwiaW5uZXJIVE1MIiwiZWxlbSIsIm4iLCJib3giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJmaXhFbCIsImRlbHRhIiwib2Zmc2V0SGVpZ2h0IiwidG9wIiwicGFnZVlPZmZzZXQiLCJob3Zlckl0ZW0iLCJzdG9wUHJvcGFnYXRpb24iLCJvbm1vdXNlb3ZlciIsIm9ubW91c2VvdXQiXSwibWFwcGluZ3MiOiJBQUFBLElBR0lBLFFBSEFDLE9BQVNDLFNBQVNDLGVBQWUsZ0JBQ2pDQyxPQUFTSCxPQUFPSSxVQUNoQkMsTUFBUSxFQUVSQyxTQUFXLENBQUMsS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FBTSxPQUN4RUMsYUFBZSxDQUNmQyxJQUFPLG9FQUNQQyxRQUFXLDZFQUNYQyxNQUFRLCtFQUNSQyxJQUFNLE1BQ05DLFFBQVUsV0FFVkMsR0FBS0MsT0FBT0MsV0FDWkMsRUFBSWYsU0FBU2dCLGlCQUFpQiw0QkFBNEIsR0FDMURDLEVBQUlqQixTQUFTZ0IsaUJBQWlCLG9DQUFvQyxHQUNsRUUsVUFBWWxCLFNBQVNnQixpQkFBaUIsdUNBQXVDLEdBQzdFRyxVQUFZbkIsU0FBU2dCLGlCQUFpQix1Q0FBdUMsR0FFakZILE9BQU9PLFNBQVcsV0FDZEMsZUFDSU4sRUFBRU8sVUFBVUMsU0FBUyxVQUNyQlIsRUFBRU8sVUFBVUUsT0FBTyxRQUNuQnhCLFNBQVNnQixpQkFBaUIseUJBQXlCLEdBQUdNLFVBQVVFLE9BQU8sU0FFdEVDLE9BQU9DLE9BQVMsTUFBMEIsS0FBaEJELE9BQU9DLFFBQ2xDQyxZQUFZQyxZQUFhLEdBQ3pCRCxZQUFZRSxZQUFhLFNBRWxCQyxJQUFOYixHQUFxQkEsRUFBRUssVUFBVUMsU0FBUyxhQUMzQ04sRUFBRUssVUFBVVMsT0FBTyxXQUNuQi9CLFNBQVNnQixpQkFBaUIsaUJBQWlCLEdBQUdNLFVBQVVTLE9BQU8sYUFJdkUvQixTQUFTZ0MsaUJBQWlCLG1CQUFvQkMsT0FDOUNqQyxTQUFTa0MsUUFBVUMsZ0JBSUFMLElBQWRaLGdCQUEyQ1ksSUFBZFosWUFDOUJBLFVBQVVFLFNBQVcsU0FBVWdCLEdBQzNCQyxtQkFBbUJELEVB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QVVFLE9BQU8sY0FDdkJzRCxFQUFNeEQsVUFBVUUsT0FBTyxjQUkvQixTQUFTSCxlQUNEUixPQUFPcUUsWUFBY2hGLE9BQ3JCSCxPQUFPdUIsVUFBVTBCLElBQUksVUFFckJqRCxPQUFPdUIsVUFBVUUsT0FBTyxVQUloQyxTQUFTMkQsVUFBVS9DLEdBQ2YsR0FBSUEsRUFBRU8sT0FBT3JCLFVBQVVDLFNBQVMsZUFBZ0IsQ0FHNUMsR0FBRzBCLFFBQVFDLEtBRkMsQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUVSLFNBQVVDLEdBQ3pCQSxHQUFRZixFQUFFTyxPQUFPRSxhQUFhLFNBQzlCN0MsU0FBUytELHVCQUF1QixTQUFXM0IsRUFBRU8sT0FBT0UsYUFBYSxVQUFVLEdBQUd2QixVQUFVMEIsSUFBSSxXQUU1RmhELFNBQVMrRCx1QkFBdUIsU0FBV1osR0FBTSxHQUFHN0IsVUFBVUUsT0FBTyxtQkFySHBFTSxJQUFiUyxXQUNBQSxTQUFTTCxRQUFVLFNBQVVFLEdBQ3pCQSxFQUFFZ0Qsa0JBQ0Z0QyxLQUFLeEIsVUFBVVMsT0FBTyxrQkFJVEQsSUFBaEJGLGtCQUErQ0UsSUFBaEJELGNBQ2hDRCxZQUFZeUQsWUFBY0YsVUFDMUJ2RCxZQUFZMEQsV0FBYUgsVUFDekJ0RCxZQUFZd0QsWUFBY0YsVUFDMUJ0RCxZQUFZeUQsV0FBYUgiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBoZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlYWRlclN0aWNreVwiKTtcbnZhciBzdGlja3kgPSBoZWFkZXIub2Zmc2V0VG9wO1xudmFyIGNvdW50ID0gMDtcbnZhciB0aW1lT3V0O1xudmFyIGNvbGxhcHNlID0gW1wicTBcIiwgXCJxMVwiLCBcInEyXCIsIFwicTNcIiwgXCJxNFwiLCBcInE1XCIsIFwicTZcIiwgXCJxN1wiLCBcInE4XCIsIFwicTlcIiwgXCJxMTBcIl07XG52YXIgZG93bmxvYWRMaW5rID0ge1xuICAgICdtYWMnOiAnaHR0cHM6Ly9vbndhbGxldC1kZXNrdG9wLXVpLnMzLmV1LWNlbnRyYWwtMS5hbWF6b25hd3MuY29tL21hYy56aXAnLFxuICAgICd3aW5kb3dzJzogJ2h0dHBzOi8vb253YWxsZXQtZGVza3RvcC11aS5zMy5ldS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbS93aW4tdW5wYWNrZWQuemlwJyxcbiAgICAnbGludXgnOidodHRwczovL29ud2FsbGV0LWRlc2t0b3AtdWkuczMuZXUtY2VudHJhbC0xLmFtYXpvbmF3cy5jb20vbGludXgtdW5wYWNrZWQuemlwJyxcbiAgICAnaW9zJzonaU9TJyxcbiAgICAnYW5kcm9pZCc6J0FuZHJvaWQnXG59O1xudmFyIHd3ID0gd2luZG93LmlubmVyV2lkdGg7XG52YXIgeCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5saW5rICsgLmRyb3BfX2xpc3Rfd3JhcCcpWzBdO1xudmFyIHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcF9fYnV0dG9uICsgLmRyb3BfX2xpc3Rfd3JhcCcpWzBdO1xudmFyIGVsWHNjcm9sMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY3Rpb25fX2l0ZW1fZGVzY3JpcHRpb25fX2xpc3QubW9iJylbMF07XG52YXIgZWxYc2Nyb2wyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjdGlvbl9faXRlbV9kZXNjcmlwdGlvbl9fbGlzdC5tb2InKVsxXTtcblxud2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuICAgIHN0aWNreUhlYWRlcigpO1xuICAgIGlmICh4LmNsYXNzTGlzdC5jb250YWlucygnb3BlbicpKSB7XG4gICAgICAgIHguY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcF9fbGlzdF93cmFwX29wZW4nKVswXS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XG4gICAgfVxuICAgIGlmICgoc2NyZWVuLndpZHRoIDw9IDEwMjMpICYmIChzY3JlZW4ud2lkdGggPj0gNTYwKSkge1xuICAgICAgICBzdGlja3lQaG9uZShhY3Rpb25JdGVtMSwgMSk7XG4gICAgICAgIHN0aWNreVBob25lKGFjdGlvbkl0ZW0yLCAyKTtcbiAgICB9O1xuICAgIGlmICgoeSAhPT0gdW5kZWZpbmVkKSAmJiAoeS5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKSkpIHtcbiAgICAgICAgeS5jbGFzc0xpc3QudG9nZ2xlKCd2aXNpYmxlJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX19idXR0b24nKVswXS5jbGFzc0xpc3QudG9nZ2xlKCd2aXNpYmxlJyk7XG4gICAgfVxufTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgcmVhZHkpO1xuZG9jdW1lbnQub25jbGljayA9IGNsaWNrU3RhdGU7XG5cblxuXG5pZiAoKGVsWHNjcm9sMSAhPT0gdW5kZWZpbmVkKSAmJiAoZWxYc2Nyb2wxICE9PSB1bmRlZmluZWQpKSB7XG4gICAgZWxYc2Nyb2wxLm9uc2Nyb2xsID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgY2hhbmdlQmFja09uc2Nyb2xsKGUsIDEpXG4gICAgfTtcbiAgICBlbFhzY3JvbDIub25zY3JvbGwgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBjaGFuZ2VCYWNrT25zY3JvbGwoZSwgMilcbiAgICB9O1xufVxuXG50cnl7XG4gICAgcGxheXZpZC5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBvdmVyZmxvdy5jbGFzc0xpc3QudG9nZ2xlKCd2aXNpYmxlJylcbiAgICB9O1xuXG59IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coZSk7XG5cbn1cblxuaWYgKG92ZXJmbG93ICE9PSB1bmRlZmluZWQpIHtcbiAgICBvdmVyZmxvdy5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCd2aXNpYmxlJylcbiAgICB9O1xufTtcblxuaWYgKChhY3Rpb25JdGVtMSAhPT0gdW5kZWZpbmVkKSAmJiAoYWN0aW9uSXRlbTIgIT09IHVuZGVmaW5lZCkpIHtcbiAgICBhY3Rpb25JdGVtMS5vbm1vdXNlb3ZlciA9IGhvdmVySXRlbTtcbiAgICBhY3Rpb25JdGVtMS5vbm1vdXNlb3V0ID0gaG92ZXJJdGVtO1xuICAgIGFjdGlvbkl0ZW0yLm9ubW91c2VvdmVyID0gaG92ZXJJdGVtO1xuICAgIGFjdGlvbkl0ZW0yLm9ubW91c2VvdXQgPSBob3Zlckl0ZW07XG59XG5cbmZ1bmN0aW9uIGNsaWNrU3RhdGUoZSkge1xuXG4gICAgdmFyIGlkID0gZS50YXJnZXQuaWQ7XG5cbiAgICBpZiAoKHkgIT09IHVuZGVmaW5lZCkgJiYgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkcm9wX19idXR0b24nKSkge1xuICAgICAgICB5LmNsYXNzTGlzdC50b2dnbGUoJ3Zpc2libGUnKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyb3BfX2J1dHRvbicpWzBdLmNsYXNzTGlzdC50b2dnbGUoJ3Zpc2libGUnKTtcbiAgICB9IGVsc2UgaWYgKCh5ICE9PSB1bmRlZmluZWQpICYmICh5LmNsYXNzTGlzdC5jb250YWlucygndmlzaWJsZScpKSkge1xuICAgICAgICB5LmNsYXNzTGlzdC50b2dnbGUoJ3Zpc2libGUnKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyb3BfX2J1dHRvbicpWzBdLmNsYXNzTGlzdC50b2dnbGUoJ3Zpc2libGUnKTtcbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncXVlc3Rpb25fX2l0ZW0nKSkge1xuICAgICAgICBpZiAoZS50YXJnZXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JylbMF0uZ2V0QXR0cmlidXRlKCdjaGVja2VkJykpIHtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZSgnYmFja2dyb3VuZCcpXG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZHJvcF9fbGlzdF93cmFwX29wZW4nKSAmJiAoeCAhPT0gdW5kZWZpbmVkKSAmJiAhKHguY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuJykpKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgeC5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX19saXN0X3dyYXBfb3BlbicpWzBdLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcbiAgICB9IGVsc2UgaWYgKHggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB4LmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyb3BfX2xpc3Rfd3JhcF9vcGVuJylbMF0uY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xuXG4gICAgfVxuXG4gICAgaWYgKGlkKSB7XG4gICAgICAgIFtdLmZvckVhY2guY2FsbChjb2xsYXBzZSwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGlmIChpdGVtICE9PSBpZCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGl0ZW0pLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjaGFuZ2VCYWNrT25zY3JvbGwoZSwgaSkge1xuICAgIHZhciBlbHdpZHRoID0gZS50YXJnZXQuZmlyc3RFbGVtZW50Q2hpbGQub2Zmc2V0V2lkdGg7XG4gICAgdmFyIGNvdW50ZXIgPSBNYXRoLmZsb29yKChlLnRhcmdldC5zY3JvbGxMZWZ0ICsgKHd3IC0gZWx3aWR0aCkpIC8gZWx3aWR0aCk7XG4gICAgdmFyIGVsZW1lbnRzU2Nyb2xsZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjZml4ZWRQaG9uZScgKyBpICsgJyAuaXRlbV9faDEnKTtcbiAgICBbXS5mb3JFYWNoLmNhbGwoZWxlbWVudHNTY3JvbGxlZCwgZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCAhPSBjb3VudGVyKSBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICAgICAgZWxzZSBpdGVtLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gcmVhZHkoKSB7XG4gICAgdmFyIHggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkd24nKTtcbiAgICB2YXIgTmFtZSA9IFwiVW5rbm93biBPU1wiO1xuICAgIHZhciBPU05hbWUgPSAnJztcbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiV2luXCIpICE9IC0xKSB7XG4gICAgICAgIE9TTmFtZSA9ICdXaW5kb3dzJztcbiAgICAgICAgTmFtZSA9IGRvd25sb2FkTGluay53aW5kb3dzO1xuICAgIH0gZWxzZSBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiQW5kcm9pZFwiKSAhPSAtMSkge1xuICAgICAgICBPU05hbWUgPSAnQW5kcm9pZCc7XG4gICAgICAgIE5hbWUgPSBkb3dubG9hZExpbmsuYW5kcm9pZDtcbiAgICB9IGVsc2UgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcImxpa2UgTWFjXCIpICE9IC0xKSB7XG4gICAgICAgIE9TTmFtZSA9ICdpT1MnO1xuICAgICAgICBOYW1lID0gZG93bmxvYWRMaW5rLmlvcztcbiAgICB9IGVsc2UgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1hY1wiKSAhPSAtMSkge1xuICAgICAgICBPU05hbWUgPSAnTWFjT1MnO1xuICAgICAgICBOYW1lID0gZG93bmxvYWRMaW5rLm1hYztcbiAgICB9IGVsc2UgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkxpbnV4XCIpICE9IC0xKSB7XG4gICAgICAgIE9TTmFtZSA9ICdMaW51eCc7XG4gICAgICAgIE5hbWUgPSBkb3dubG9hZExpbmsubGludXg7XG4gICAgfVxuXG4gICAgW10uZm9yRWFjaC5jYWxsKHgsIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICBlbC5ocmVmID0gTmFtZTtcbiAgICB9KVxuICAgIGR3bmxpbmsuaHJlZiA9IE5hbWU7XG4gICAgaWYgKE9TTmFtZSAhPSAnJykgY2xpZW50T3MuaW5uZXJIVE1MID0gT1NOYW1lO1xufVxuXG5mdW5jdGlvbiBzdGlja3lQaG9uZShlbGVtLCBuKSB7XG4gICAgdmFyIGJveCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIGZpeEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpeGVkUGhvbmUnICsgbik7XG4gICAgdmFyIGRlbHRhID0gZWxlbS5vZmZzZXRIZWlnaHQgLSBmaXhFbC5vZmZzZXRIZWlnaHQgLSAxMDA7XG4gICAgaWYgKChib3gudG9wIDw9IDk2KSAmJiAoYm94LnRvcCA+PSAtZGVsdGEpKSB7XG4gICAgICAgIGZpeEVsLmNsYXNzTGlzdC5yZW1vdmUoJ2Rvd25QaG9uZScpO1xuICAgICAgICBmaXhFbC5jbGFzc0xpc3QuYWRkKCdmaXhlZFBob25lJyk7XG4gICAgfSBlbHNlIGlmIChib3gudG9wIDw9IC1kZWx0YSkge1xuICAgICAgICBmaXhFbC5jbGFzc0xpc3QuYWRkKCdkb3duUGhvbmUnKTtcbiAgICAgICAgZml4RWwuY2xhc3NMaXN0LnJlbW92ZSgnZml4ZWRQaG9uZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZpeEVsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpeGVkUGhvbmUnKTtcbiAgICAgICAgZml4RWwuY2xhc3NMaXN0LnJlbW92ZSgnZG93blBob25lJyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzdGlja3lIZWFkZXIoKSB7XG4gICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCA+IHN0aWNreSkge1xuICAgICAgICBoZWFkZXIuY2xhc3NMaXN0LmFkZChcInN0aWNreVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZShcInN0aWNreVwiKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGhvdmVySXRlbShlKSB7XG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnaXRlbV9faG92ZXInKSkge1xuICAgICAgICB2YXIgaXRlbXMgPSBbMSwgMiwgMywgNCwgNSwgNiwgN107XG5cbiAgICAgICAgW10uZm9yRWFjaC5jYWxsKGl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0gPT0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdoYXR0cicpKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaXRlbV9fJyArIGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnaGF0dHInKSlbMF0uY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2l0ZW1fXycgKyBpdGVtKVswXS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSJdfQ==
