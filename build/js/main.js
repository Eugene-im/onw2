var timeOut,header=document.getElementById("headerSticky"),sticky=header.offsetTop,count=0,collapse=["q0","q1","q2","q3","q4","q5","q6","q7","q8","q9","q10"],downloadLink={mac:"https://onwallet-desktop-ui.s3.eu-central-1.amazonaws.com/mac.zip",windows:"https://onwallet-desktop-ui.s3.eu-central-1.amazonaws.com/win-unpacked.zip",linux:"https://onwallet-desktop-ui.s3.eu-central-1.amazonaws.com/linux-unpacked.zip",ios:"iOS",android:"Android"},ww=window.innerWidth,x=document.querySelectorAll(".link + .drop__list_wrap")[0],y=document.querySelectorAll(".drop__button + .drop__list_wrap")[0],elXscrol1=document.querySelectorAll(".action__item_description__list.mob")[0],elXscrol2=document.querySelectorAll(".action__item_description__list.mob")[1];function clickState(e){var t=e.target.id;void 0!==y&&e.target.classList.contains("drop__button")||void 0!==y&&y.classList.contains("visible")?(y.classList.toggle("visible"),document.querySelectorAll(".drop__button")[0].classList.toggle("visible")):e.target.classList.contains("question__item")?e.target.getElementsByTagName("input")[0].getAttribute("checked")&&this.classList.toggle("background"):e.target.classList.contains("drop__list_wrap_open")&&void 0!==x&&!x.classList.contains("open")?(e.preventDefault(),x.classList.add("open"),document.querySelectorAll(".drop__list_wrap_open")[0].classList.add("open")):void 0!==x&&(x.classList.remove("open"),document.querySelectorAll(".drop__list_wrap_open")[0].classList.remove("open")),t&&[].forEach.call(collapse,function(e){e!==t&&(document.getElementById(e).checked=!1)})}function changeBackOnscroll(e,t){var o=e.target.firstElementChild.offsetWidth,i=Math.floor((e.target.scrollLeft+(ww-o))/o),n=document.querySelectorAll("#fixedPhone"+t+" .item__h1");[].forEach.call(n,function(e,t){t!=i?e.classList.remove("visible"):e.classList.add("visible")})}function ready(){var e=document.getElementsByClassName("dwn"),t="Unknown OS",o="";-1!=navigator.userAgent.indexOf("Win")?(o="Windows",t=downloadLink.windows):-1!=navigator.userAgent.indexOf("Android")?(o="Android",t=downloadLink.android):-1!=navigator.userAgent.indexOf("like Mac")?(o="iOS",t=downloadLink.ios):-1!=navigator.userAgent.indexOf("Mac")?(o="MacOS",t=downloadLink.mac):-1!=navigator.userAgent.indexOf("Linux")&&(o="Linux",t=downloadLink.linux),[].forEach.call(e,function(e){e.href=t}),dwnlink.href=t,""!=o&&(clientOs.innerHTML=o)}function stickyPhone(e,t){var o=e.getBoundingClientRect(),i=document.getElementById("fixedPhone"+t),n=e.offsetHeight-i.offsetHeight-100;o.top<=96&&o.top>=-n?(i.classList.remove("downPhone"),i.classList.add("fixedPhone")):o.top<=-n?(i.classList.add("downPhone"),i.classList.remove("fixedPhone")):(i.classList.remove("fixedPhone"),i.classList.remove("downPhone"))}function stickyHeader(){window.pageYOffset>sticky?header.classList.add("sticky"):header.classList.remove("sticky")}function hoverItem(t){if(t.target.classList.contains("item__hover")){[].forEach.call([1,2,3,4,5,6,7],function(e){e==t.target.getAttribute("hattr")?document.getElementsByClassName("item__"+t.target.getAttribute("hattr"))[0].classList.add("visible"):document.getElementsByClassName("item__"+e)[0].classList.remove("visible")})}}window.onscroll=function(){stickyHeader(),x.classList.contains("open")&&(x.classList.remove("open"),document.querySelectorAll(".drop__list_wrap_open")[0].classList.remove("open")),screen.width<=1023&&560<=screen.width&&(stickyPhone(actionItem1,1),stickyPhone(actionItem2,2)),void 0!==y&&y.classList.contains("visible")&&(y.classList.toggle("visible"),document.querySelectorAll(".drop__button")[0].classList.toggle("visible"))},document.addEventListener("DOMContentLoaded",ready),document.onclick=clickState,void 0!==elXscrol1&&void 0!==elXscrol1&&(elXscrol1.onscroll=function(e){changeBackOnscroll(e,1)},elXscrol2.onscroll=function(e){changeBackOnscroll(e,2)}),void 0!==playvid&&(playvid.onclick=function(){overflow.classList.toggle("visible")}),void 0!==overflow&&(overflow.onclick=function(e){e.stopPropagation(),this.classList.toggle("visible")}),void 0!==actionItem1&&void 0!==actionItem2&&(actionItem1.onmouseover=hoverItem,actionItem1.onmouseout=hoverItem,actionItem2.onmouseover=hoverItem,actionItem2.onmouseout=hoverItem);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsidGltZU91dCIsImhlYWRlciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzdGlja3kiLCJvZmZzZXRUb3AiLCJjb3VudCIsImNvbGxhcHNlIiwiZG93bmxvYWRMaW5rIiwibWFjIiwid2luZG93cyIsImxpbnV4IiwiaW9zIiwiYW5kcm9pZCIsInd3Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsIngiLCJxdWVyeVNlbGVjdG9yQWxsIiwieSIsImVsWHNjcm9sMSIsImVsWHNjcm9sMiIsImNsaWNrU3RhdGUiLCJlIiwiaWQiLCJ0YXJnZXQiLCJ1bmRlZmluZWQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInRvZ2dsZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0QXR0cmlidXRlIiwidGhpcyIsInByZXZlbnREZWZhdWx0IiwiYWRkIiwicmVtb3ZlIiwiZm9yRWFjaCIsImNhbGwiLCJpdGVtIiwiY2hlY2tlZCIsImNoYW5nZUJhY2tPbnNjcm9sbCIsImkiLCJlbHdpZHRoIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJvZmZzZXRXaWR0aCIsImNvdW50ZXIiLCJNYXRoIiwiZmxvb3IiLCJzY3JvbGxMZWZ0IiwiZWxlbWVudHNTY3JvbGxlZCIsImluZGV4IiwicmVhZHkiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiTmFtZSIsIk9TTmFtZSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJlbCIsImhyZWYiLCJkd25saW5rIiwiY2xpZW50T3MiLCJpbm5lckhUTUwiLCJzdGlja3lQaG9uZSIsImVsZW0iLCJuIiwiYm94IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZml4RWwiLCJkZWx0YSIsIm9mZnNldEhlaWdodCIsInRvcCIsInN0aWNreUhlYWRlciIsInBhZ2VZT2Zmc2V0IiwiaG92ZXJJdGVtIiwib25zY3JvbGwiLCJzY3JlZW4iLCJ3aWR0aCIsImFjdGlvbkl0ZW0xIiwiYWN0aW9uSXRlbTIiLCJhZGRFdmVudExpc3RlbmVyIiwib25jbGljayIsInBsYXl2aWQiLCJvdmVyZmxvdyIsInN0b3BQcm9wYWdhdGlvbiIsIm9ubW91c2VvdmVyIiwib25tb3VzZW91dCJdLCJtYXBwaW5ncyI6IkFBQUEsSUFHSUEsUUFIQUMsT0FBU0MsU0FBU0MsZUFBZSxnQkFDakNDLE9BQVNILE9BQU9JLFVBQ2hCQyxNQUFRLEVBRVJDLFNBQVcsQ0FBQyxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLE9BQ3hFQyxhQUFlLENBQ2ZDLElBQU8sb0VBQ1BDLFFBQVcsNkVBQ1hDLE1BQVEsK0VBQ1JDLElBQU0sTUFDTkMsUUFBVSxXQUVWQyxHQUFLQyxPQUFPQyxXQUNaQyxFQUFJZixTQUFTZ0IsaUJBQWlCLDRCQUE0QixHQUMxREMsRUFBSWpCLFNBQVNnQixpQkFBaUIsb0NBQW9DLEdBQ2xFRSxVQUFZbEIsU0FBU2dCLGlCQUFpQix1Q0FBdUMsR0FDN0VHLFVBQVluQixTQUFTZ0IsaUJBQWlCLHVDQUF1QyxHQW9EakYsU0FBU0ksV0FBV0MsR0FFaEIsSUFBSUMsRUFBS0QsRUFBRUUsT0FBT0QsUUFFUEUsSUFBTlAsR0FBb0JJLEVBQUVFLE9BQU9FLFVBQVVDLFNBQVMsc0JBR25DRixJQUFOUCxHQUFxQkEsRUFBRVEsVUFBVUMsU0FBUyxZQUZsRFQsRUFBRVEsVUFBVUUsT0FBTyxXQUNuQjNCLFNBQVNnQixpQkFBaUIsaUJBQWlCLEdBQUdTLFVBQVVFLE9BQU8sWUFJeEROLEVBQUVFLE9BQU9FLFVBQVVDLFNBQVMsa0JBQy9CTCxFQUFFRSxPQUFPSyxxQkFBcUIsU0FBUyxHQUFHQyxhQUFhLFlBQ3ZEQyxLQUFLTCxVQUFVRSxPQUFPLGNBRW5CTixFQUFFRSxPQUFPRSxVQUFVQyxTQUFTLDhCQUFrQ0YsSUFBTlQsSUFBc0JBLEVBQUVVLFVBQVVDLFNBQVMsU0FDMUdMLEVBQUVVLGlCQUNGaEIsRUFBRVUsVUFBVU8sSUFBSSxRQUNoQmhDLFNBQVNnQixpQkFBaUIseUJBQXlCLEdB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LEdBQ3pCZixZQUFZZ0IsWUFBYSxTQUVsQnJELElBQU5QLEdBQXFCQSxFQUFFUSxVQUFVQyxTQUFTLGFBQzNDVCxFQUFFUSxVQUFVRSxPQUFPLFdBQ25CM0IsU0FBU2dCLGlCQUFpQixpQkFBaUIsR0FBR1MsVUFBVUUsT0FBTyxhQUl2RTNCLFNBQVM4RSxpQkFBaUIsbUJBQW9CN0IsT0FDOUNqRCxTQUFTK0UsUUFBVTNELGdCQUlBSSxJQUFkTixnQkFBMkNNLElBQWROLFlBQzlCQSxVQUFVdUQsU0FBVyxTQUFVcEQsR0FDM0JpQixtQkFBbUJqQixFQUFHLElBRTFCRixVQUFVc0QsU0FBVyxTQUFVcEQsR0FDM0JpQixtQkFBbUJqQixFQUFHLFVBSWRHLElBQVp3RCxVQUNBQSxRQUFRRCxRQUFVLFdBQ2RFLFNBQVN4RCxVQUFVRSxPQUFPLGtCQUlqQkgsSUFBYnlELFdBQ0FBLFNBQVNGLFFBQVUsU0FBVTFELEdBQ3pCQSxFQUFFNkQsa0JBQ0ZwRCxLQUFLTCxVQUFVRSxPQUFPLGtCQUlUSCxJQUFoQm9ELGtCQUErQ3BELElBQWhCcUQsY0FDaENELFlBQVlPLFlBQWNYLFVBQzFCSSxZQUFZUSxXQUFhWixVQUN6QkssWUFBWU0sWUFBY1gsVUFDMUJLLFlBQVlPLFdBQWFaIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoZWFkZXJTdGlja3lcIik7XHJcbnZhciBzdGlja3kgPSBoZWFkZXIub2Zmc2V0VG9wO1xyXG52YXIgY291bnQgPSAwO1xyXG52YXIgdGltZU91dDtcclxudmFyIGNvbGxhcHNlID0gW1wicTBcIiwgXCJxMVwiLCBcInEyXCIsIFwicTNcIiwgXCJxNFwiLCBcInE1XCIsIFwicTZcIiwgXCJxN1wiLCBcInE4XCIsIFwicTlcIiwgXCJxMTBcIl07XHJcbnZhciBkb3dubG9hZExpbmsgPSB7XHJcbiAgICAnbWFjJzogJ2h0dHBzOi8vb253YWxsZXQtZGVza3RvcC11aS5zMy5ldS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbS9tYWMuemlwJyxcclxuICAgICd3aW5kb3dzJzogJ2h0dHBzOi8vb253YWxsZXQtZGVza3RvcC11aS5zMy5ldS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbS93aW4tdW5wYWNrZWQuemlwJyxcclxuICAgICdsaW51eCc6J2h0dHBzOi8vb253YWxsZXQtZGVza3RvcC11aS5zMy5ldS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbS9saW51eC11bnBhY2tlZC56aXAnLFxyXG4gICAgJ2lvcyc6J2lPUycsXHJcbiAgICAnYW5kcm9pZCc6J0FuZHJvaWQnXHJcbn07XHJcbnZhciB3dyA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG52YXIgeCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5saW5rICsgLmRyb3BfX2xpc3Rfd3JhcCcpWzBdO1xyXG52YXIgeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX19idXR0b24gKyAuZHJvcF9fbGlzdF93cmFwJylbMF07XHJcbnZhciBlbFhzY3JvbDEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWN0aW9uX19pdGVtX2Rlc2NyaXB0aW9uX19saXN0Lm1vYicpWzBdO1xyXG52YXIgZWxYc2Nyb2wyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjdGlvbl9faXRlbV9kZXNjcmlwdGlvbl9fbGlzdC5tb2InKVsxXTtcclxuXHJcbndpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHN0aWNreUhlYWRlcigpO1xyXG4gICAgaWYgKHguY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuJykpIHtcclxuICAgICAgICB4LmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcF9fbGlzdF93cmFwX29wZW4nKVswXS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XHJcbiAgICB9XHJcbiAgICBpZiAoKHNjcmVlbi53aWR0aCA8PSAxMDIzKSAmJiAoc2NyZWVuLndpZHRoID49IDU2MCkpIHtcclxuICAgICAgICBzdGlja3lQaG9uZShhY3Rpb25JdGVtMSwgMSk7XHJcbiAgICAgICAgc3RpY2t5UGhvbmUoYWN0aW9uSXRlbTIsIDIpO1xyXG4gICAgfTtcclxuICAgIGlmICgoeSAhPT0gdW5kZWZpbmVkKSAmJiAoeS5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKSkpIHtcclxuICAgICAgICB5LmNsYXNzTGlzdC50b2dnbGUoJ3Zpc2libGUnKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcF9fYnV0dG9uJylbMF0uY2xhc3NMaXN0LnRvZ2dsZSgndmlzaWJsZScpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgcmVhZHkpO1xyXG5kb2N1bWVudC5vbmNsaWNrID0gY2xpY2tTdGF0ZTtcclxuXHJcblxyXG5cclxuaWYgKChlbFhzY3JvbDEgIT09IHVuZGVmaW5lZCkgJiYgKGVsWHNjcm9sMSAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgZWxYc2Nyb2wxLm9uc2Nyb2xsID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBjaGFuZ2VCYWNrT25zY3JvbGwoZSwgMSlcclxuICAgIH07XHJcbiAgICBlbFhzY3JvbDIub25zY3JvbGwgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGNoYW5nZUJhY2tPbnNjcm9sbChlLCAyKVxyXG4gICAgfTtcclxufVxyXG5cclxuaWYgKHBsYXl2aWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgcGxheXZpZC5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG92ZXJmbG93LmNsYXNzTGlzdC50b2dnbGUoJ3Zpc2libGUnKVxyXG4gICAgfTtcclxufVxyXG5cclxuaWYgKG92ZXJmbG93ICE9PSB1bmRlZmluZWQpIHtcclxuICAgIG92ZXJmbG93Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCd2aXNpYmxlJylcclxuICAgIH07XHJcbn07XHJcblxyXG5pZiAoKGFjdGlvbkl0ZW0xICE9PSB1bmRlZmluZWQpICYmIChhY3Rpb25JdGVtMiAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgYWN0aW9uSXRlbTEub25tb3VzZW92ZXIgPSBob3Zlckl0ZW07XHJcbiAgICBhY3Rpb25JdGVtMS5vbm1vdXNlb3V0ID0gaG92ZXJJdGVtO1xyXG4gICAgYWN0aW9uSXRlbTIub25tb3VzZW92ZXIgPSBob3Zlckl0ZW07XHJcbiAgICBhY3Rpb25JdGVtMi5vbm1vdXNlb3V0ID0gaG92ZXJJdGVtO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbGlja1N0YXRlKGUpIHtcclxuXHJcbiAgICB2YXIgaWQgPSBlLnRhcmdldC5pZDtcclxuXHJcbiAgICBpZiAoKHkgIT09IHVuZGVmaW5lZCkgJiYgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkcm9wX19idXR0b24nKSkge1xyXG4gICAgICAgIHkuY2xhc3NMaXN0LnRvZ2dsZSgndmlzaWJsZScpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX19idXR0b24nKVswXS5jbGFzc0xpc3QudG9nZ2xlKCd2aXNpYmxlJyk7XHJcbiAgICB9IGVsc2UgaWYgKCh5ICE9PSB1bmRlZmluZWQpICYmICh5LmNsYXNzTGlzdC5jb250YWlucygndmlzaWJsZScpKSkge1xyXG4gICAgICAgIHkuY2xhc3NMaXN0LnRvZ2dsZSgndmlzaWJsZScpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX19idXR0b24nKVswXS5jbGFzc0xpc3QudG9nZ2xlKCd2aXNpYmxlJyk7XHJcbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncXVlc3Rpb25fX2l0ZW0nKSkge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVswXS5nZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoJ2JhY2tncm91bmQnKVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkcm9wX19saXN0X3dyYXBfb3BlbicpICYmICh4ICE9PSB1bmRlZmluZWQpICYmICEoeC5jbGFzc0xpc3QuY29udGFpbnMoJ29wZW4nKSkpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgeC5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyb3BfX2xpc3Rfd3JhcF9vcGVuJylbMF0uY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xyXG4gICAgfSBlbHNlIGlmICh4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB4LmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcF9fbGlzdF93cmFwX29wZW4nKVswXS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGlmIChpZCkge1xyXG4gICAgICAgIFtdLmZvckVhY2guY2FsbChjb2xsYXBzZSwgZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0gIT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpdGVtKS5jaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2hhbmdlQmFja09uc2Nyb2xsKGUsIGkpIHtcclxuICAgIHZhciBlbHdpZHRoID0gZS50YXJnZXQuZmlyc3RFbGVtZW50Q2hpbGQub2Zmc2V0V2lkdGg7XHJcbiAgICB2YXIgY291bnRlciA9IE1hdGguZmxvb3IoKGUudGFyZ2V0LnNjcm9sbExlZnQgKyAod3cgLSBlbHdpZHRoKSkgLyBlbHdpZHRoKTtcclxuICAgIHZhciBlbGVtZW50c1Njcm9sbGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2ZpeGVkUGhvbmUnICsgaSArICcgLml0ZW1fX2gxJyk7XHJcbiAgICBbXS5mb3JFYWNoLmNhbGwoZWxlbWVudHNTY3JvbGxlZCwgZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgICAgaWYgKGluZGV4ICE9IGNvdW50ZXIpIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gICAgICAgIGVsc2UgaXRlbS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVhZHkoKSB7XHJcbiAgICB2YXIgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2R3bicpO1xyXG4gICAgdmFyIE5hbWUgPSBcIlVua25vd24gT1NcIjtcclxuICAgIHZhciBPU05hbWUgPSAnJztcclxuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJXaW5cIikgIT0gLTEpIHtcclxuICAgICAgICBPU05hbWUgPSAnV2luZG93cyc7XHJcbiAgICAgICAgTmFtZSA9IGRvd25sb2FkTGluay53aW5kb3dzO1xyXG4gICAgfSBlbHNlIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJBbmRyb2lkXCIpICE9IC0xKSB7XHJcbiAgICAgICAgT1NOYW1lID0gJ0FuZHJvaWQnO1xyXG4gICAgICAgIE5hbWUgPSBkb3dubG9hZExpbmsuYW5kcm9pZDtcclxuICAgIH0gZWxzZSBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwibGlrZSBNYWNcIikgIT0gLTEpIHtcclxuICAgICAgICBPU05hbWUgPSAnaU9TJztcclxuICAgICAgICBOYW1lID0gZG93bmxvYWRMaW5rLmlvcztcclxuICAgIH0gZWxzZSBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTWFjXCIpICE9IC0xKSB7XHJcbiAgICAgICAgT1NOYW1lID0gJ01hY09TJztcclxuICAgICAgICBOYW1lID0gZG93bmxvYWRMaW5rLm1hYztcclxuICAgIH0gZWxzZSBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTGludXhcIikgIT0gLTEpIHtcclxuICAgICAgICBPU05hbWUgPSAnTGludXgnO1xyXG4gICAgICAgIE5hbWUgPSBkb3dubG9hZExpbmsubGludXg7XHJcbiAgICB9XHJcblxyXG4gICAgW10uZm9yRWFjaC5jYWxsKHgsIGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGVsLmhyZWYgPSBOYW1lO1xyXG4gICAgfSlcclxuICAgIGR3bmxpbmsuaHJlZiA9IE5hbWU7XHJcbiAgICBpZiAoT1NOYW1lICE9ICcnKSBjbGllbnRPcy5pbm5lckhUTUwgPSBPU05hbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0aWNreVBob25lKGVsZW0sIG4pIHtcclxuICAgIHZhciBib3ggPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgdmFyIGZpeEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpeGVkUGhvbmUnICsgbik7XHJcbiAgICB2YXIgZGVsdGEgPSBlbGVtLm9mZnNldEhlaWdodCAtIGZpeEVsLm9mZnNldEhlaWdodCAtIDEwMDtcclxuICAgIGlmICgoYm94LnRvcCA8PSA5NikgJiYgKGJveC50b3AgPj0gLWRlbHRhKSkge1xyXG4gICAgICAgIGZpeEVsLmNsYXNzTGlzdC5yZW1vdmUoJ2Rvd25QaG9uZScpO1xyXG4gICAgICAgIGZpeEVsLmNsYXNzTGlzdC5hZGQoJ2ZpeGVkUGhvbmUnKTtcclxuICAgIH0gZWxzZSBpZiAoYm94LnRvcCA8PSAtZGVsdGEpIHtcclxuICAgICAgICBmaXhFbC5jbGFzc0xpc3QuYWRkKCdkb3duUGhvbmUnKTtcclxuICAgICAgICBmaXhFbC5jbGFzc0xpc3QucmVtb3ZlKCdmaXhlZFBob25lJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZpeEVsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpeGVkUGhvbmUnKTtcclxuICAgICAgICBmaXhFbC5jbGFzc0xpc3QucmVtb3ZlKCdkb3duUGhvbmUnKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc3RpY2t5SGVhZGVyKCkge1xyXG4gICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCA+IHN0aWNreSkge1xyXG4gICAgICAgIGhlYWRlci5jbGFzc0xpc3QuYWRkKFwic3RpY2t5XCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZShcInN0aWNreVwiKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaG92ZXJJdGVtKGUpIHtcclxuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2l0ZW1fX2hvdmVyJykpIHtcclxuICAgICAgICB2YXIgaXRlbXMgPSBbMSwgMiwgMywgNCwgNSwgNiwgN107XHJcblxyXG4gICAgICAgIFtdLmZvckVhY2guY2FsbChpdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0gPT0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdoYXR0cicpKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpdGVtX18nICsgZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdoYXR0cicpKVswXS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJylcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2l0ZW1fXycgKyBpdGVtKVswXS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59Il19
