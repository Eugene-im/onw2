var timeOut,header=document.getElementById("headerSticky"),sticky=header.offsetTop,count=0,collapse=["q0","q1","q2","q3","q4","q5","q6","q7","q8","q9","q10"],x=document.querySelectorAll(".link + .drop__list_wrap")[0],y=document.querySelectorAll(".drop__button + .drop__list_wrap")[0],ww=window.innerWidth,elXscrol1=document.querySelectorAll(".action__item_description__list.mob")[0],elXscrol2=document.querySelectorAll(".action__item_description__list.mob")[1];function changeBackOnscroll(e,t){var o=e.target.firstElementChild.offsetWidth,s=Math.floor((e.target.scrollLeft+(ww-o))/o),i=document.querySelectorAll("#fixedPhone"+t+" .item__h1");[].forEach.call(i,function(e,t){t!=s?e.classList.remove("visible"):e.classList.add("visible")})}function ready(){var e=document.getElementsByClassName("dwn"),t="Unknown OS",o="";-1!=navigator.userAgent.indexOf("Win")?(o="Windows",t="https://onwallet-desktop-ui.s3.eu-central-1.amazonaws.com/win-unpacked.zip"):-1!=navigator.userAgent.indexOf("Android")?(o="Android",t="Android OS"):-1!=navigator.userAgent.indexOf("like Mac")?t=o="iOS":-1!=navigator.userAgent.indexOf("Mac")?(o="MacOS",t="https://onwallet-desktop-ui.s3.eu-central-1.amazonaws.com/mac.zip"):-1!=navigator.userAgent.indexOf("Linux")&&(o="Linux",t="https://onwallet-desktop-ui.s3.eu-central-1.amazonaws.com/linux-unpacked.zip"),[].forEach.call(e,function(e){e.href=t}),dwnlink.href=t,""!=o&&(clientOs.innerHTML=o)}function stickyPhone(e,t){var o=e.getBoundingClientRect(),s=document.getElementById("fixedPhone"+t),i=e.offsetHeight-s.offsetHeight-100;o.top<=96&&o.top>=-i?(s.classList.remove("downPhone"),s.classList.add("fixedPhone")):o.top<=-i?(s.classList.add("downPhone"),s.classList.remove("fixedPhone")):(s.classList.remove("fixedPhone"),s.classList.remove("downPhone"))}function stickyHeader(){window.pageYOffset>sticky?header.classList.add("sticky"):header.classList.remove("sticky")}function hoverItem(t){if(t.target.classList.contains("item__hover")){[].forEach.call([1,2,3,4,5,6,7],function(e){e==t.target.getAttribute("hattr")?document.getElementsByClassName("item__"+t.target.getAttribute("hattr"))[0].classList.add("visible"):document.getElementsByClassName("item__"+e)[0].classList.remove("visible")})}}window.onscroll=function(){stickyHeader(),x.classList.contains("open")&&(x.classList.remove("open"),document.querySelectorAll(".drop__list_wrap_open")[0].classList.remove("open")),screen.width<=1023&&560<=screen.width&&(stickyPhone(actionItem1,1),stickyPhone(actionItem2,2)),void 0!==y&&y.classList.contains("visible")&&(y.classList.toggle("visible"),document.querySelectorAll(".drop__button")[0].classList.toggle("visible"))},document.addEventListener("DOMContentLoaded",ready),document.onclick=function(e){var t=e.target.id;void 0!==y&&e.target.classList.contains("drop__button")||void 0!==y&&y.classList.contains("visible")?(y.classList.toggle("visible"),document.querySelectorAll(".drop__button")[0].classList.toggle("visible")):e.target.classList.contains("question__item")?e.target.getElementsByTagName("input")[0].getAttribute("checked")&&this.classList.toggle("background"):e.target.classList.contains("drop__list_wrap_open")&&void 0!==x&&!x.classList.contains("open")?(e.preventDefault(),x.classList.add("open"),document.querySelectorAll(".drop__list_wrap_open")[0].classList.add("open")):void 0!==x&&(x.classList.remove("open"),document.querySelectorAll(".drop__list_wrap_open")[0].classList.remove("open")),t&&[].forEach.call(collapse,function(e){e!==t&&(document.getElementById(e).checked=!1)})},void 0!==elXscrol1&&void 0!==elXscrol1&&(elXscrol1.onscroll=function(e){changeBackOnscroll(e,1)},elXscrol2.onscroll=function(e){changeBackOnscroll(e,2)}),void 0!==playvid&&(playvid.onclick=function(){overflow.classList.toggle("visible")}),void 0!==overflow&&(overflow.onclick=function(e){e.stopPropagation(),this.classList.toggle("visible")}),void 0!==actionItem1&&void 0!==actionItem2&&(actionItem1.onmouseover=hoverItem,actionItem1.onmouseout=hoverItem,actionItem2.onmouseover=hoverItem,actionItem2.onmouseout=hoverItem);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsidGltZU91dCIsImhlYWRlciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzdGlja3kiLCJvZmZzZXRUb3AiLCJjb3VudCIsImNvbGxhcHNlIiwieCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ5Iiwid3ciLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiZWxYc2Nyb2wxIiwiZWxYc2Nyb2wyIiwiY2hhbmdlQmFja09uc2Nyb2xsIiwiZSIsImkiLCJlbHdpZHRoIiwidGFyZ2V0IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJvZmZzZXRXaWR0aCIsImNvdW50ZXIiLCJNYXRoIiwiZmxvb3IiLCJzY3JvbGxMZWZ0IiwiZWxlbWVudHNTY3JvbGxlZCIsImZvckVhY2giLCJjYWxsIiwiaXRlbSIsImluZGV4IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwicmVhZHkiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiTmFtZSIsIk9TTmFtZSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJlbCIsImhyZWYiLCJkd25saW5rIiwiY2xpZW50T3MiLCJpbm5lckhUTUwiLCJzdGlja3lQaG9uZSIsImVsZW0iLCJuIiwiYm94IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZml4RWwiLCJkZWx0YSIsIm9mZnNldEhlaWdodCIsInRvcCIsInN0aWNreUhlYWRlciIsInBhZ2VZT2Zmc2V0IiwiaG92ZXJJdGVtIiwiY29udGFpbnMiLCJnZXRBdHRyaWJ1dGUiLCJvbnNjcm9sbCIsInNjcmVlbiIsIndpZHRoIiwiYWN0aW9uSXRlbTEiLCJhY3Rpb25JdGVtMiIsInVuZGVmaW5lZCIsInRvZ2dsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbmNsaWNrIiwiaWQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInRoaXMiLCJwcmV2ZW50RGVmYXVsdCIsImNoZWNrZWQiLCJwbGF5dmlkIiwib3ZlcmZsb3ciLCJzdG9wUHJvcGFnYXRpb24i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ZTJCLEdBQU00QyxTQUFVLFdBaUJyQ1IsSUFBZHBELGdCQUEyQ29ELElBQWRwRCxZQUM5QkEsVUFBVStDLFNBQVcsU0FBVTVDLEdBQzNCRCxtQkFBbUJDLEVBQUcsSUFFMUJGLFVBQVU4QyxTQUFXLFNBQVU1QyxHQUMzQkQsbUJBQW1CQyxFQUFHLFVBSWRpRCxJQUFaUyxVQUNBQSxRQUFRTixRQUFVLFdBQ2RPLFNBQVM1QyxVQUFVbUMsT0FBTyxrQkFJakJELElBQWJVLFdBQ0FBLFNBQVNQLFFBQVUsU0FBVXBELEdBQ3pCQSxFQUFFNEQsa0JBQ0ZMLEtBQUt4QyxVQUFVbUMsT0FBTyxrQkFJVEQsSUFBaEJGLGtCQUErQ0UsSUFBaEJELGNBQ2hDRCxZQUFZYyxZQUFjcEIsVUFDMUJNLFlBQVllLFdBQWFyQixVQUN6Qk8sWUFBWWEsWUFBY3BCLFVBQzFCTyxZQUFZYyxXQUFhckIiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBoZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlYWRlclN0aWNreVwiKTtcclxudmFyIHN0aWNreSA9IGhlYWRlci5vZmZzZXRUb3A7XHJcbnZhciBjb3VudCA9IDA7XHJcbnZhciB0aW1lT3V0O1xyXG52YXIgY29sbGFwc2UgPSBbXCJxMFwiLCBcInExXCIsIFwicTJcIiwgXCJxM1wiLCBcInE0XCIsIFwicTVcIiwgXCJxNlwiLCBcInE3XCIsIFwicThcIiwgXCJxOVwiLCBcInExMFwiXTtcclxudmFyIHggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubGluayArIC5kcm9wX19saXN0X3dyYXAnKVswXTtcclxudmFyIHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcF9fYnV0dG9uICsgLmRyb3BfX2xpc3Rfd3JhcCcpWzBdO1xyXG5cclxudmFyIHd3ID0gd2luZG93LmlubmVyV2lkdGg7XHJcbnZhciBlbFhzY3JvbDEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWN0aW9uX19pdGVtX2Rlc2NyaXB0aW9uX19saXN0Lm1vYicpWzBdO1xyXG52YXIgZWxYc2Nyb2wyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjdGlvbl9faXRlbV9kZXNjcmlwdGlvbl9fbGlzdC5tb2InKVsxXTtcclxuXHJcbndpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHN0aWNreUhlYWRlcigpO1xyXG4gICAgaWYgKHguY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuJykpIHtcclxuICAgICAgICB4LmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcF9fbGlzdF93cmFwX29wZW4nKVswXS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XHJcbiAgICB9XHJcbiAgICBpZiAoKHNjcmVlbi53aWR0aCA8PSAxMDIzKSAmJiAoc2NyZWVuLndpZHRoID49IDU2MCkpIHtcclxuICAgICAgICBzdGlja3lQaG9uZShhY3Rpb25JdGVtMSwgMSk7XHJcbiAgICAgICAgc3RpY2t5UGhvbmUoYWN0aW9uSXRlbTIsIDIpO1xyXG4gICAgfTtcclxuICAgIGlmICgoeSAhPT0gdW5kZWZpbmVkKSAmJiAoeS5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKSkpIHtcclxuICAgICAgICB5LmNsYXNzTGlzdC50b2dnbGUoJ3Zpc2libGUnKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcF9fYnV0dG9uJylbMF0uY2xhc3NMaXN0LnRvZ2dsZSgndmlzaWJsZScpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgcmVhZHkpO1xyXG5kb2N1bWVudC5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcclxuXHJcbiAgICB2YXIgaWQgPSBlLnRhcmdldC5pZDtcclxuXHJcbiAgICBpZiAoKHkgIT09IHVuZGVmaW5lZCkgJiYgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkcm9wX19idXR0b24nKSkge1xyXG4gICAgICAgIHkuY2xhc3NMaXN0LnRvZ2dsZSgndmlzaWJsZScpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX19idXR0b24nKVswXS5jbGFzc0xpc3QudG9nZ2xlKCd2aXNpYmxlJyk7XHJcbiAgICB9IGVsc2UgaWYgKCh5ICE9PSB1bmRlZmluZWQpICYmICh5LmNsYXNzTGlzdC5jb250YWlucygndmlzaWJsZScpKSkge1xyXG4gICAgICAgIHkuY2xhc3NMaXN0LnRvZ2dsZSgndmlzaWJsZScpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX19idXR0b24nKVswXS5jbGFzc0xpc3QudG9nZ2xlKCd2aXNpYmxlJyk7XHJcbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncXVlc3Rpb25fX2l0ZW0nKSkge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVswXS5nZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoJ2JhY2tncm91bmQnKVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkcm9wX19saXN0X3dyYXBfb3BlbicpICYmICh4ICE9PSB1bmRlZmluZWQpICYmICEoeC5jbGFzc0xpc3QuY29udGFpbnMoJ29wZW4nKSkgKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHguY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX19saXN0X3dyYXBfb3BlbicpWzBdLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcclxuICAgIH0gZWxzZSBpZiAoeCAhPT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAvLyBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgeC5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyb3BfX2xpc3Rfd3JhcF9vcGVuJylbMF0uY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBpZiAoaWQpIHtcclxuICAgICAgICBbXS5mb3JFYWNoLmNhbGwoY29sbGFwc2UsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtICE9PSBpZCkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaXRlbSkuY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGxpbmsub25jbGljayA9IG9wZW5EZDtcclxuXHJcbi8vIGZ1bmN0aW9uIG9wZW5EZChlKSB7XHJcbi8vICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbi8vICAgICBpZiAoeC5jbGFzc0xpc3QuY29udGFpbnMoJ29wZW4nKSkge1xyXG4vLyAgICAgICAgIHguY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xyXG4vLyAgICAgfSBlbHNlIHtcclxuLy8gICAgICAgICB4LmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuaWYgKChlbFhzY3JvbDEgIT09IHVuZGVmaW5lZCkgJiYgKGVsWHNjcm9sMSAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgZWxYc2Nyb2wxLm9uc2Nyb2xsID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBjaGFuZ2VCYWNrT25zY3JvbGwoZSwgMSlcclxuICAgIH07XHJcbiAgICBlbFhzY3JvbDIub25zY3JvbGwgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGNoYW5nZUJhY2tPbnNjcm9sbChlLCAyKVxyXG4gICAgfTtcclxufVxyXG5cclxuaWYgKHBsYXl2aWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgcGxheXZpZC5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG92ZXJmbG93LmNsYXNzTGlzdC50b2dnbGUoJ3Zpc2libGUnKVxyXG4gICAgfTtcclxufVxyXG5cclxuaWYgKG92ZXJmbG93ICE9PSB1bmRlZmluZWQpIHtcclxuICAgIG92ZXJmbG93Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCd2aXNpYmxlJylcclxuICAgIH07XHJcbn07XHJcblxyXG5pZiAoKGFjdGlvbkl0ZW0xICE9PSB1bmRlZmluZWQpICYmIChhY3Rpb25JdGVtMiAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgYWN0aW9uSXRlbTEub25tb3VzZW92ZXIgPSBob3Zlckl0ZW07XHJcbiAgICBhY3Rpb25JdGVtMS5vbm1vdXNlb3V0ID0gaG92ZXJJdGVtO1xyXG4gICAgYWN0aW9uSXRlbTIub25tb3VzZW92ZXIgPSBob3Zlckl0ZW07XHJcbiAgICBhY3Rpb25JdGVtMi5vbm1vdXNlb3V0ID0gaG92ZXJJdGVtO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VCYWNrT25zY3JvbGwoZSwgaSkge1xyXG4gICAgdmFyIGVsd2lkdGggPSBlLnRhcmdldC5maXJzdEVsZW1lbnRDaGlsZC5vZmZzZXRXaWR0aDtcclxuICAgIHZhciBjb3VudGVyID0gTWF0aC5mbG9vcigoZS50YXJnZXQuc2Nyb2xsTGVmdCArICh3dyAtIGVsd2lkdGgpKSAvIGVsd2lkdGgpO1xyXG4gICAgdmFyIGVsZW1lbnRzU2Nyb2xsZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjZml4ZWRQaG9uZScgKyBpICsgJyAuaXRlbV9faDEnKTtcclxuICAgIFtdLmZvckVhY2guY2FsbChlbGVtZW50c1Njcm9sbGVkLCBmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcclxuICAgICAgICBpZiAoaW5kZXggIT0gY291bnRlcikgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICAgICAgZWxzZSBpdGVtLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWFkeSgpIHtcclxuICAgIHZhciB4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZHduJyk7XHJcbiAgICB2YXIgTmFtZSA9IFwiVW5rbm93biBPU1wiO1xyXG4gICAgdmFyIE9TTmFtZSA9ICcnO1xyXG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIldpblwiKSAhPSAtMSkge1xyXG4gICAgICAgIE9TTmFtZSA9ICdXaW5kb3dzJztcclxuICAgICAgICBOYW1lID0gXCJodHRwczovL29ud2FsbGV0LWRlc2t0b3AtdWkuczMuZXUtY2VudHJhbC0xLmFtYXpvbmF3cy5jb20vd2luLXVucGFja2VkLnppcFwiO1xyXG4gICAgfSBlbHNlIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJBbmRyb2lkXCIpICE9IC0xKSB7XHJcbiAgICAgICAgT1NOYW1lID0gJ0FuZHJvaWQnO1xyXG4gICAgICAgIE5hbWUgPSBcIkFuZHJvaWQgT1NcIjtcclxuICAgIH0gZWxzZSBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwibGlrZSBNYWNcIikgIT0gLTEpIHtcclxuICAgICAgICBPU05hbWUgPSAnaU9TJztcclxuICAgICAgICBOYW1lID0gXCJpT1NcIjtcclxuICAgIH0gZWxzZSBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTWFjXCIpICE9IC0xKSB7XHJcbiAgICAgICAgT1NOYW1lID0gJ01hY09TJztcclxuICAgICAgICBOYW1lID0gXCJodHRwczovL29ud2FsbGV0LWRlc2t0b3AtdWkuczMuZXUtY2VudHJhbC0xLmFtYXpvbmF3cy5jb20vbWFjLnppcFwiO1xyXG4gICAgfSBlbHNlIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJMaW51eFwiKSAhPSAtMSkge1xyXG4gICAgICAgIE9TTmFtZSA9ICdMaW51eCc7XHJcbiAgICAgICAgTmFtZSA9IFwiaHR0cHM6Ly9vbndhbGxldC1kZXNrdG9wLXVpLnMzLmV1LWNlbnRyYWwtMS5hbWF6b25hd3MuY29tL2xpbnV4LXVucGFja2VkLnppcFwiO1xyXG4gICAgfVxyXG5cclxuICAgIFtdLmZvckVhY2guY2FsbCh4LCBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICBlbC5ocmVmID0gTmFtZTtcclxuICAgIH0pXHJcbiAgICBkd25saW5rLmhyZWYgPSBOYW1lO1xyXG4gICAgaWYgKE9TTmFtZSAhPSAnJykgY2xpZW50T3MuaW5uZXJIVE1MID0gT1NOYW1lO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdGlja3lQaG9uZShlbGVtLCBuKSB7XHJcbiAgICB2YXIgYm94ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIHZhciBmaXhFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaXhlZFBob25lJyArIG4pO1xyXG4gICAgdmFyIGRlbHRhID0gZWxlbS5vZmZzZXRIZWlnaHQgLSBmaXhFbC5vZmZzZXRIZWlnaHQgLSAxMDA7XHJcbiAgICBpZiAoKGJveC50b3AgPD0gOTYpICYmIChib3gudG9wID49IC1kZWx0YSkpIHtcclxuICAgICAgICBmaXhFbC5jbGFzc0xpc3QucmVtb3ZlKCdkb3duUGhvbmUnKTtcclxuICAgICAgICBmaXhFbC5jbGFzc0xpc3QuYWRkKCdmaXhlZFBob25lJyk7XHJcbiAgICB9IGVsc2UgaWYgKGJveC50b3AgPD0gLWRlbHRhKSB7XHJcbiAgICAgICAgZml4RWwuY2xhc3NMaXN0LmFkZCgnZG93blBob25lJyk7XHJcbiAgICAgICAgZml4RWwuY2xhc3NMaXN0LnJlbW92ZSgnZml4ZWRQaG9uZScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmaXhFbC5jbGFzc0xpc3QucmVtb3ZlKCdmaXhlZFBob25lJyk7XHJcbiAgICAgICAgZml4RWwuY2xhc3NMaXN0LnJlbW92ZSgnZG93blBob25lJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0aWNreUhlYWRlcigpIHtcclxuICAgIGlmICh3aW5kb3cucGFnZVlPZmZzZXQgPiBzdGlja3kpIHtcclxuICAgICAgICBoZWFkZXIuY2xhc3NMaXN0LmFkZChcInN0aWNreVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJzdGlja3lcIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhvdmVySXRlbShlKSB7XHJcbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpdGVtX19ob3ZlcicpKSB7XHJcbiAgICAgICAgdmFyIGl0ZW1zID0gWzEsIDIsIDMsIDQsIDUsIDYsIDddO1xyXG5cclxuICAgICAgICBbXS5mb3JFYWNoLmNhbGwoaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtID09IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnaGF0dHInKSkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaXRlbV9fJyArIGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnaGF0dHInKSlbMF0uY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpdGVtX18nICsgaXRlbSlbMF0uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSJdfQ==
